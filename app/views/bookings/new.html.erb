
<div style="margin-left:20px;">
  <center>
    <h3> Flight Info </h3>

    <table border="2" style="width:40%;padding:10px;">
    	<tr>
        <th><u>Flight #</u></th>
    	  <th><u>Departure Airport</u></th>
    	  <th><u>Arrival Airport</u></th>
        <th><u>Departure Time</u></th>
    	  <th><u>Duration</u></th>
    	  <th><u>Number of Passengers</u></th>
    	</tr>
      <tr>
        <td><%=@selected_flight.id%></td>
        <td><%=@selected_flight.departure_airport.code%></td>
        <td><%=@selected_flight.arrival_airport.code%></td>
        <td><%=@selected_flight.time.strftime("%H:%M %p")%></td>
        <td><%="~ #{@selected_flight.flight_duration / 60} hours"%></td>
        <td><%=@num_of_passengers%></td>
      </tr>
    </table>


    <%= form_with model: @booking, method: :post do |form| %>
        <div style="padding:20px 0px;">
          <%= form.fields_for :passengers do |sub_form| %>
          <p>
            <%= sub_form.label :name, "Name:" %>
            <%= sub_form.text_field :name %>
            <%= sub_form.label :email, "Email:" %>
            <%= sub_form.email_field :email %>
          </p>
          <div data-controller="passenger">
            <button type="button" data-action="passenger#greet"> Add Passenger</button>
            <template>
              <%= sub_form.label :name, "Name:" %>
              <%= sub_form.text_field :name %>
              <%= sub_form.label :email, "Email:" %>
              <%= sub_form.email_field :email %>
            </template>
          </div>
          <% end %>
          <%= hidden_field_tag 'booking[flight_id]', @selected_flight[:id]  %>
          <%= hidden_field_tag 'booking[num_of_passengers]', @num_of_passengers  %>
          </div>
        <p> <%= form.submit "Book Flight" %> </p>
    <% end %>
  </center>
</div>