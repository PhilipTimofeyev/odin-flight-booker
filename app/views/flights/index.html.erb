<%= form_with model: @flight, method: :get do |form| %>
	<ul>
  	<%= form.label :query, "Date:" %>
  	<%# <%= date_field("flight[date]", "flight_day", min: Date.parse("May 1 2024"), max: Date.parse("May 30 2024")) %> 

  	<%= date_field_tag 'date[date]', value = nil, options = {min: Date.parse("June 1 2023"), max: Date.parse("June 30 2023")} %>
  	<%# <%= select_tag 'flight[date]', options_for_select(@flight_date), :include_blank => true %>
	</ul>
	<ul>
  <%= form.submit "Search" %>
</ul>
<% end %>

<% if @airport_depart && @airport_arrive %>
<%= form_with model: @flight, method: :get do |form| %>
	<ul>
  	<%= form.label :query, "Departure airport:" %>
  	<%= select_tag 'flight[departure_airport]', options_for_select(@airport_depart) %>
	</ul>
	<ul>
  	<%= form.label :query, "Arrival airport:" %>
  	<%= select_tag 'flight[arrival_airport]', options_for_select(@airport_arrive.sort) %>
	</ul>
	<ul>	
  	<%= label_tag(:num_of_passengers, "Number of Passengers") %>
  	<%= select_tag  'flight[num_of_passengers]', options_for_select([1, 2, 3, 4]) %>
	</ul>
	<%= form.submit "Search" %>
	<% end %>
	<% end %>

<% if @flights %>
<%= form_with url: "/bookings/new", method: :get do |form| %>
	<% @flights.map do |flight|%>
		<ul>
			<%= radio_button_tag "booking[flight_id]", flight.id%>
			<%= hidden_field_tag 'booking[num_of_passengers]', @passengers[:num_of_passengers]  %>

		<li> <%= "Flight Number: #{flight.id}"%> </li>
		<li> <%= "Departure Airport: #{flight.departure_airport.code}"%> </li>
		<li> <%= "Arrival Airport: #{flight.arrival_airport.code}"%> </li>
		<li> <%= "Date: #{flight.date.strftime("%m-%d-%y")}"%> </li>
		<li> <%= "Time: #{flight.time.strftime("%H:%M %p")}"%> </li>
		<li> <%= "Duration: ~#{flight.flight_duration/60} hours"%> </li>
		</ul>
	<% end %>
	<%= form.submit "Select" %>
	<% end %>
<% end %>

